(this["webpackJsonpcountries-app"]=this["webpackJsonpcountries-app"]||[]).push([[0],{43:function(e,t,n){},48:function(e,t,n){},50:function(e,t,n){},52:function(e,t,n){},59:function(e,t,n){},60:function(e,t,n){},78:function(e,t,n){},79:function(e,t,n){"use strict";n.r(t);var a=n(1),r=n.n(a),c=n(34),s=n.n(c),i=(n(43),n(11)),l=n(12),o=n(14),u=n(13),d=n(18),h=n(3),j=n(16),m=n(17),b=n(35),f=(n(48),n(0));var g=function(e){var t=e.toggleTheme,n=e.isDark;return Object(f.jsx)("header",{className:"header",children:Object(f.jsxs)("div",{className:"container",children:[Object(f.jsx)("div",{className:"header__title",children:"Where in the world?"}),Object(f.jsx)("div",{className:"header__theme-toggle",children:Object(f.jsxs)("button",{className:"header__theme-btn btn",onClick:t,title:"Turn on",children:[Object(f.jsx)(j.a,{className:"header__theme-icon",icon:n?m.b:b.a}),n?"Light Mode":"Dark Mode"]})})]})})},p=(n(50),n(10)),v=n.n(p),O=n(19);n(52);var x=function(e){var t=e.item,n=t.flag,a=t.name,r=t.population,c=t.capital,s=t.region;return Object(f.jsxs)("article",{className:"country-card card shadow-sm ",children:[Object(f.jsx)("img",{src:n,className:"card-img-top country-card__flag",alt:a}),Object(f.jsxs)("div",{className:"country-card__body",children:[Object(f.jsx)(d.b,{to:"details/".concat(a),className:"country-card__title font--bold",children:Object(f.jsx)("p",{children:a})}),Object(f.jsxs)("div",{className:"country-card__info",children:[Object(f.jsx)("span",{className:"font--regular",children:"Population:"}),Object(f.jsxs)("span",{className:"font--light",children:[" ",r]})]}),Object(f.jsxs)("div",{className:"country-card__info",children:[Object(f.jsx)("span",{className:"font--regular",children:"Region:"}),Object(f.jsxs)("span",{className:"font--light",children:[" ",s]})]}),Object(f.jsxs)("div",{className:"country-card__info",children:[Object(f.jsx)("span",{className:"font--regular",children:"Capital:"}),Object(f.jsxs)("span",{className:"font--light",children:[" ",c]})]})]})]})},y=n(37),N=n.n(y);n(59);var _=function(e){var t=e.isDisabled,n=e.onChangeHandler;return Object(f.jsx)(N.a,{className:"filter-select shadow-lg",disabled:t,options:[{labelKey:"Africa",value:"Africa"},{labelKey:"Americas",value:"Americas"},{labelKey:"Asia",value:"Asia"},{labelKey:"Europe",value:"Europe"},{labelKey:"Oceania",value:"Oceania"}],placeholder:"Filter by Region",onChange:function(e){return e.selectedValue.length&&n(e.selectedValue[0])}})},k=(n(60),function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={value:""},e.timeOutID=null,e.setValue=function(t){e.setState({value:t},(function(){e.timeOutID&&clearTimeout(e.timeOutID),e.timeOutID=setTimeout((function(){return e.props.onChangeHandler(t)}),500)}))},e.onSubmitHandler=function(){e.props.onChangeHandler(e.state.value)},e}return Object(l.a)(n,[{key:"componentDidUpdate",value:function(e,t){e.reset&&t.value&&this.setValue("")}},{key:"render",value:function(){var e=this,t=this.props.isDisabled,n=this.state.value;return Object(f.jsxs)("div",{className:"country-search ",children:[Object(f.jsx)("label",{htmlFor:"country-search-input",children:Object(f.jsx)("span",{className:"sr-only",children:"Search for a country"})}),Object(f.jsx)(j.a,{className:"country-search__icon",icon:m.a}),Object(f.jsx)("input",{disabled:t,id:"country-search-input",type:"text",value:n,placeholder:"Search for a country...",className:"form-control form-control-sm country-search__input shadow-lg",onChange:function(t){return e.setValue(t.target.value)}})]})}}]),n}(r.a.Component)),C=n(38),w=n.n(C).a.create({baseURL:"https://restcountries.eu/rest/v2/"});function D(e,t){return w.get(e,t)}function L(e){return D("".concat("name/").concat(e))}function S(e){return D("".concat("region/").concat(e))}n(78);var T=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isLoading:!0,hasError:!1,countries:[],regionFilter:null,searchQuery:null,pageSize:8,currentLoadedItems:0},e.filterByRegion=function(){var t=Object(O.a)(v.a.mark((function t(n){var a;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,S(n);case 3:a=t.sent,e.setState({isLoading:!1,countries:a.data,regionFilter:n,searchQuery:null}),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),e.setState({hasError:!0,isLoading:!1,countries:[],regionFilter:null,searchQuery:null});case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(e){return t.apply(this,arguments)}}(),e.filterByName=function(){var t=Object(O.a)(v.a.mark((function t(n){var a,r;return v.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,a=n||"all",t.next=4,L(a);case 4:r=t.sent,e.setState({isLoading:!1,countries:r.data,regionFilter:null,searchQuery:n}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(0),e.setState({hasError:!0,isLoading:!1,countries:[],regionFilter:null,searchQuery:null});case 11:case"end":return t.stop()}}),t,null,[[0,8]])})));return function(e){return t.apply(this,arguments)}}(),e.handleDataChange=function(t,n){e.setState({isLoading:!0,countries:[],currentLoadedItems:0},(function(){"filter"===n?e.filterByRegion(t):e.filterByName(t)}))},e.renderBody=function(){var t=e.state,n=t.countries,a=t.isLoading,r=t.hasError;return a?Object(f.jsx)("div",{className:"alt-state",children:Object(f.jsx)("div",{className:"spinner-border",role:"status",children:Object(f.jsx)("span",{className:"visually-hidden",children:"Loading..."})})}):n.length?e.renderCountries():r?Object(f.jsx)("div",{className:"alt-state",children:"Something went wrong"}):n.length||a?void 0:Object(f.jsx)("div",{className:"alt-state",children:"No countries found"})},e.loadMore=function(){e.setState((function(e){return{currentLoadedItems:e.currentLoadedItems+e.pageSize}}))},e.renderCountries=function(){var t=e.state,n=t.countries,a=t.pageSize,r=t.currentLoadedItems;return n.slice(0,r+a).map((function(e,t){return Object(f.jsx)("div",{className:"col-md-3 col-sm-4 col-12",children:Object(f.jsx)(x,{item:e})},"".concat(t,"-").concat(e.name))}))},e}return Object(l.a)(n,[{key:"componentDidMount",value:function(){this.getCountries()}},{key:"getCountries",value:function(){var e=Object(O.a)(v.a.mark((function e(){var t;return v.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,D("all/?fields=name;capital;region;population;flag");case 3:t=e.sent,this.setState({isLoading:!1,countries:t.data}),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),this.setState({hasError:!0,isLoading:!1,countries:[],regionFilter:null,searchQuery:null});case 10:case"end":return e.stop()}}),e,this,[[0,7]])})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this,t=this.state,n=t.isLoading,a=t.searchQuery,r=t.countries,c=t.pageSize,s=r.length>c;return Object(f.jsxs)("section",{className:"countries-list container",children:[Object(f.jsxs)("div",{className:"row countries-list__header ",children:[Object(f.jsx)("div",{className:"countries-list__search col-md-4 col-12",children:Object(f.jsx)(k,{isDisabled:n,onChangeHandler:function(t){return e.handleDataChange(t,"search")},reset:!a})}),Object(f.jsx)("div",{className:"countries-list__filter col-md-3 col-12",children:Object(f.jsx)(_,{isDisabled:n,onChangeHandler:function(t){return e.handleDataChange(t,"filter")}})})]}),Object(f.jsx)("div",{className:"row g-lg-5 g-md-4 g-1",children:this.renderBody()}),s&&Object(f.jsx)("div",{className:"row g-lg-5 g-md-4 g-1",children:Object(f.jsx)("div",{className:"col-12 countries-list__load-more",children:Object(f.jsx)("button",{className:"btn main-btn shadow-sm",onClick:this.loadMore,children:"Load More"})})})]})}}]),n}(r.a.Component),F=function(e){Object(o.a)(n,e);var t=Object(u.a)(n);function n(){var e;Object(i.a)(this,n);for(var a=arguments.length,r=new Array(a),c=0;c<a;c++)r[c]=arguments[c];return(e=t.call.apply(t,[this].concat(r))).state={isDarkTheme:!1},e.toggleThemeHandler=function(){e.setState((function(e){return{isDarkTheme:!e.isDarkTheme}}))},e}return Object(l.a)(n,[{key:"render",value:function(){var e=this.state.isDarkTheme;return Object(f.jsx)(d.a,{children:Object(f.jsxs)("div",{className:"countries-app ".concat(e?"dark-mode":""),children:[Object(f.jsx)(g,{isDark:e,toggleTheme:this.toggleThemeHandler}),Object(f.jsxs)(h.c,{children:[Object(f.jsx)(h.a,{exact:!0,path:"/",children:Object(f.jsx)(T,{})}),Object(f.jsx)(h.a,{exact:!0,path:"/details/:name",children:function(){return Object(f.jsx)("div",{className:"alt-state",children:"details"})}}),Object(f.jsx)(h.a,{path:"*",children:function(){return Object(f.jsx)("div",{className:"alt-state",children:"not found"})}})]})]})})}}]),n}(r.a.Component),I=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,80)).then((function(t){var n=t.getCLS,a=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;n(e),a(e),r(e),c(e),s(e)}))};s.a.render(Object(f.jsx)(r.a.StrictMode,{children:Object(f.jsx)(F,{})}),document.getElementById("root")),I()}},[[79,1,2]]]);
//# sourceMappingURL=main.51475cf4.chunk.js.map